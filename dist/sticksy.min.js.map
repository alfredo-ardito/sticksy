{"version":3,"sources":["./src/sticksy.js"],"names":["window","Sticksy","STATES","instances","Constructor","target","options","Error","Element","Object","prototype","toString","call","targetEl","Utils","findElement","containerEl","parentNode","this","_props","topSpacing","listen","onStateChanged","nodeRef","push","_initialize","that","state","_stickyNodes","_dummyNodes","sibling","clone","cloneNode","style","visibility","className","removeAttribute","insertBefore","nextElementSibling","_stickyNodesHeight","_limits","top","bottom","_isListening","position","_shouldCollapseMargins","getComputedStyle","display","indexOf","_mutationObserver","MutationObserver","mutations","hardRefresh","_startListen","observe","attributes","characterData","childList","subtree","_stopListen","disconnect","_calcState","windowOffset","_updateStickyNodesHeight","getComputedBox","length","bottomWithMargin","topWithMargin","_updateLimits","stickyNodes","containerBox","topNodeBox","paddingBottom","_applyState","_resetElements","_disableElements","_fixElementsSize","_fixElements","_stuckElements","_enableElements","refresh","pageYOffset","oldState","disable","splice","enable","elements","previousMarginBottom","offset","i","el","box","extraMarginTop","Math","max","marginTop","height","marginBottom","previousMarginTop","extraMarginBottom","forEach","width","stickyNode","refreshAll","hardRefreshAll","disableAll","copy","slice","initializeAll","ignoreNothingFound","get","document","querySelectorAll","parents","stickyElements","map","addEventListener","parseNumber","val","parseFloat","root","querySelector","undefined","elem","getBoundingClientRect","paddingTop","jQueryPlugin","$","jQuery","Zepto","fn","sticksy","opts"],"mappings":"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"}