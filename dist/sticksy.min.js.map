{"version":3,"sources":["./src/sticksy.js"],"names":["window","Sticksy","STATES","instances","Constructor","target","options","Error","targetEl","Utils","findElement","containerEl","parentNode","this","_props","topSpacing","listen","onStateChanged","push","_initialize","prototype","that","state","_stickyNodes","_dummyNodes","sibling","clone","cloneNode","style","visibility","className","removeAttribute","insertBefore","nextElementSibling","_stickyNodesHeight","_limits","top","bottom","position","_shouldCollapseMargins","getComputedStyle","display","indexOf","hardRefresh","MutationObserver","mutations","forEach","mutation","attributeName","observe","attributes","characterData","childList","subtree","_calcState","windowOffset","_updateStickyNodesHeight","getComputedBox","length","bottomWithMargin","topWithMargin","_updateLimits","stickyNodes","containerBox","topNodeBox","paddingBottom","refresh","pageYOffset","_resetElements","_disableElements","_fixElementsSize","_fixElements","_stuckElements","_enableElements","elements","previousMarginBottom","offset","i","el","box","extraMarginTop","Math","max","marginTop","height","marginBottom","previousMarginTop","extraMarginBottom","width","stickyNode","refreshAll","hardRefreshAll","addEventListener","parseNumber","val","parseFloat","root","document","querySelector","Element","undefined","elem","getBoundingClientRect","paddingTop","jQueryPlugin","$","jQuery","Zepto","fn","sticksy","opts"],"mappings":"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"}