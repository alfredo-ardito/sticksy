{"version":3,"sources":["./src/sticksy.js"],"names":["window","Sticksy","STATES","instances","Constructor","target","options","Error","Element","Object","prototype","toString","call","targetEl","Utils","findElement","containerEl","parentNode","this","_props","topSpacing","listen","onStateChanged","nodeRef","push","_initialize","that","state","_stickyNodes","_dummyNodes","sibling","clone","cloneNode","style","visibility","className","removeAttribute","insertBefore","nextElementSibling","_stickyNodesHeight","_limits","top","bottom","position","_shouldCollapseMargins","getComputedStyle","display","indexOf","hardRefresh","MutationObserver","mutations","forEach","mutation","attributeName","observe","attributes","characterData","childList","subtree","_calcState","windowOffset","_updateStickyNodesHeight","getComputedBox","length","bottomWithMargin","topWithMargin","_updateLimits","stickyNodes","containerBox","topNodeBox","paddingBottom","refresh","pageYOffset","_resetElements","_disableElements","_fixElementsSize","_fixElements","_stuckElements","_enableElements","disable","splice","enable","elements","previousMarginBottom","offset","i","el","box","extraMarginTop","Math","max","marginTop","height","marginBottom","previousMarginTop","extraMarginBottom","width","stickyNode","refreshAll","hardRefreshAll","disableAll","copy","slice","initializeAll","ignoreNothingFound","get","document","querySelectorAll","parents","stickyElements","map","addEventListener","parseNumber","val","parseFloat","root","querySelector","undefined","elem","getBoundingClientRect","paddingTop","jQueryPlugin","$","jQuery","Zepto","fn","sticksy","opts"],"mappings":"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"}